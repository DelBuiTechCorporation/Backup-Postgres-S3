# .env.example

# Lista de conexões Postgres. Itens separados por vírgula.
# Cada item pode incluir metadados antes da URL do Postgres, separados por '@'.
# Formato geral: [meta@]postgres://user:pass@host:port/db
# Formatos suportados:
#  - key=value meta: prefix=,bucket=,endpoint=,access=,secret=,region=,force_path_style=,db_buckets=,retention=
#  - posicional: prefix@bucket@endpoint@forcepatch@access@secret@postgres://...

PG_URLS="myprefix@backups1@http://minio:9000@true@MINIO1_ACCESS@MINIO1_SECRET@postgres://postgres:postgres@postgres:5432/postgres"

# Global S3 (fallback)
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=MINIO_GLOBAL_ACCESS
S3_SECRET_KEY=MINIO_GLOBAL_SECRET
S3_BUCKET=backups
S3_REGION=us-east-1
S3_FORCE_PATH_STYLE=true

# Prefixo global (opcional) para chaves no bucket
GLOBAL_PREFIX=backups
IGNORE_DATABASES=postgres,template0,template1,db
# Retenção padrão em dias para backups (p.ex.: 7)
RETENTION_DAYS=7

# Cron
CRON_ENABLED=true
CRON_SCHEDULE="0 3 * * *"
TIMEZONE=America/Sao_Paulo

# Logging
LOG_LEVEL=INFO

#Quando ativo, o script executa `pg_terminate_backend` para o usuário do backup após terminar os uploads.
FORCE_TERMINATE_AFTER_BACKUP=false